<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>開場動畫</title>
    <style>
        /* --- 基礎設定 (與遊戲頁面相同) --- */
        body { 
            margin: 0; 
            padding: 0; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            width: 100vw;
            height: 100vh;
            background-color: #ffffff; /* 背景設為黑，避免影片邊緣露白 */
            font-family: "Microsoft JhengHei", Arial, sans-serif; 
            overflow: hidden; 
            touch-action: none; 
        }

        /* --- 遊戲主容器 (固定 960x720) --- */
        #game-container { 
            position: relative; 
            width: 960px; 
            height: 720px; 
            transform-origin: center center; 
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            background-color: #000;
            overflow: hidden; 
        }

        /* --- 背景圖片 --- */
        #bg-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
        }

        /* --- 開始按鈕 (000-1.png) --- */
        #start-btn {
            position: absolute;
            top: 70%;
            left: 50%;
            transform: translate(-50%, -50%); /* 絕對置中 */
            width: 200px; /* 您可以依需求調整按鈕大小 */
            cursor: pointer;
            z-index: 10;
            transition: transform 0.1s;
        }
        #start-btn:active {
            transform: translate(-50%, -50%) scale(0.95);
        }

        /* --- 影片層 (初始隱藏) --- */
        #video-container {
            display: none; /* 一開始不顯示 */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 20;
            background-color: black;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: contain; /* 確保影片完整顯示 */
        }

        /* --- 略過按鈕 (000-2.png) --- */
        #skip-btn {
    position: absolute;
    top: 30px;
    right: 30px;
    width: 80px; 
    cursor: pointer;
    z-index: 30;
    opacity: 0.8;
    transition: opacity 0.2s, transform 0.1s;

    /* --- 新增這一行 (順時針旋轉 90 度) --- */
    transform: rotate(180deg); 
}

/* --- 重要：點擊效果也要改 --- */
/* 必須保留 rotate(90deg)，再加上 scale(0.95) */
#skip-btn:active {
    transform: rotate(90deg) scale(0.95);
}
        #skip-btn:hover { opacity: 1; }
        #skip-btn:active { transform: scale(0.95); }

    </style>
</head>
<body>

    <div id="game-container">
        <img src="img/000.jpg" id="bg-image">

        <img src="img/000-1.png" id="start-btn">

        <div id="video-container">
            <video id="intro-video" playsinline>
                <source src="img/000.mp4" type="video/mp4">
                您的瀏覽器不支援影片播放。
            </video>
            <img src="img/0-0.png" id="skip-btn" onclick="jumpToGame()">
        </div>
    </div>

    <script>
        // --- 1. 縮放邏輯 (與遊戲頁面完全一致) ---
        function resizeGame() {
            const container = document.getElementById('game-container');
            const targetWidth = 960;
            const targetHeight = 720;
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            
            // 計算縮放比例，取寬或高的最小值以確保完整顯示 (contain)
            const scale = Math.min(windowWidth / targetWidth, windowHeight / targetHeight);
            
            container.style.transform = `scale(${scale})`;
        }

        // 監聽視窗調整與載入
        window.addEventListener('resize', resizeGame);
        window.addEventListener('load', resizeGame);


        // --- 2. 互動邏輯 ---
        const startBtn = document.getElementById('start-btn');
        const videoContainer = document.getElementById('video-container');
        const video = document.getElementById('intro-video');

        // 點擊開始按鈕
        startBtn.addEventListener('click', () => {
            // 隱藏開始按鈕
            startBtn.style.display = 'none';
            // 顯示影片容器
            videoContainer.style.display = 'block';
            // 播放影片
            video.play().catch(error => {
                console.log("影片自動播放被阻擋，或檔案路徑錯誤:", error);
            });
        });

        // 跳轉函式
        function jumpToGame() {
            window.location.href = 'index.html';
        }

        // 監聽影片結束事件
        video.addEventListener('ended', () => {
            jumpToGame();
        });

    </script>
</body>
</html>